(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{350:(e,r,s)=>{"use strict";s.d(r,{p:()=>i});var t=s(5155);s(2115);var a=s(9433);function i(e){let{className:r,type:s,...i}=e;return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...i})}},1007:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1978:(e,r,s)=>{"use strict";s.d(r,{$:()=>l,r:()=>o});var t=s(5155);s(2115);var a=s(6634),i=s(2085),n=s(9433);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:r,variant:s,size:i,asChild:l=!1,...c}=e,d=l?a.DX:"button";return(0,t.jsx)(d,{"data-slot":"button",className:(0,n.cn)(o({variant:s,size:i,className:r})),...c})}},2331:(e,r,s)=>{"use strict";s.d(r,{DY:()=>n,Lx:()=>i,Og:()=>o,a4:()=>l});var t=s(7383),a=s(4475);let i=async(e,r)=>{try{let s=await a.A.post("/login",{email:e,password:r});return s.data.token&&t.A.set("token",s.data.token,{expires:1,sameSite:"strict"}),s.data}catch(e){throw console.error("Login error",e),e}},n=async e=>{try{return(await a.A.post("/register",e)).data}catch(e){throw console.error("register error",e),e}},o=async()=>{try{let e=await a.A.get("/verify-token");return console.log(e.data),e.data}catch(e){throw console.error("Get profile error",e),e}},l=async e=>{try{return(await a.A.put("/profile",e)).data}catch(e){throw console.error("register error",e),e}}},2517:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},3424:(e,r,s)=>{Promise.resolve().then(s.bind(s,7e3)),Promise.resolve().then(s.t.bind(s,5135,23)),Promise.resolve().then(s.t.bind(s,2517,23)),Promise.resolve().then(s.t.bind(s,9324,23))},4475:(e,r,s)=>{"use strict";s.d(r,{A:()=>o,H:()=>i});var t=s(3464),a=s(7383);let i="http://localhost:4000",n=t.A.create({baseURL:i});n.interceptors.request.use(e=>{let r=a.A.get("token");return r&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(logoutUser(),window.location.href="/login"),Promise.reject(e)));let o=n},5135:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}},5695:(e,r,s)=>{"use strict";var t=s(8999);s.o(t,"usePathname")&&s.d(r,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})},7e3:(e,r,s)=>{"use strict";s.d(r,{default:()=>p});var t=s(5155),a=s(2115),i=s(7383),n=s(5695),o=s(1978),l=s(350),c=s(7924);let d=(0,s(9946).A)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);var u=s(1007),h=s(6874),m=s.n(h),f=s(2331);function p(){let e=(0,n.useRouter)(),r=(0,n.usePathname)(),[s,h]=(0,a.useState)(!1),[p,x]=(0,a.useState)(!0),[v,g]=(0,a.useState)(!1),b="/login"===r||"/register"===r||"/forgot-password"===r;return((0,a.useEffect)(()=>{(async()=>{if(b){x(!1);return}try{if(i.A.get("token"))try{let r=await (0,f.Og)();r.user?(h(r.user.isSeller||"seller"===r.role),g(!0),x(!1)):(i.A.remove("token"),e.push("/login"))}catch(r){console.error("Failed to fetch profile",r),i.A.remove("token"),e.push("/login")}else e.push("/login")}catch(r){console.error("Authentication error",r),i.A.remove("token"),e.push("/login")}})()},[e,r,b]),b)?(0,t.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsx)("div",{className:"container flex h-16 items-center justify-between",children:(0,t.jsx)("div",{className:"flex items-center gap-6 md:gap-10",children:(0,t.jsxs)(m(),{href:"/",className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"h-6 w-6 bg-primary rounded-md flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-primary-foreground font-bold",children:"R"})}),(0,t.jsx)("span",{className:"font-bold text-xl",children:"Riveff"})]})})})}):p?(0,t.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6 md:gap-10",children:[(0,t.jsx)("div",{className:"h-6 w-6 bg-primary rounded-md flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-primary-foreground font-bold",children:"R"})}),(0,t.jsx)("span",{className:"font-bold text-xl",children:"Riveff"})]}),(0,t.jsx)("div",{className:"animate-pulse bg-gray-200 h-4 w-40 rounded"})]})}):(0,t.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6 md:gap-10",children:[(0,t.jsxs)(m(),{href:"/",className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"h-6 w-6 bg-primary rounded-md flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-primary-foreground font-bold",children:"R"})}),(0,t.jsx)("span",{className:"font-bold text-xl",children:"Riveff"})]}),(0,t.jsx)(m(),{href:"/services",className:"text-sm font-medium transition-colors hover:text-primary",children:"services"}),(0,t.jsx)(m(),{href:"/orders",className:"text-sm font-medium transition-colors hover:text-primary",children:"Orders"}),(0,t.jsx)("nav",{className:"hidden md:flex gap-6",children:s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m(),{href:"/seller/services",className:"text-sm font-medium transition-colors hover:text-primary",children:"My Services"}),(0,t.jsx)(m(),{href:"/seller/orders",className:"text-sm font-medium transition-colors hover:text-primary",children:"Manage Orders"})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"hidden md:flex relative",children:[(0,t.jsx)(c.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(l.p,{type:"search",placeholder:"Search services...",className:"w-[200px] lg:w-[300px] pl-8"})]}),s?(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.$,{variant:"outline",size:"sm",children:(0,t.jsxs)(m(),{href:"/seller/add-service",className:"flex items-center gap-1",children:[(0,t.jsx)(d,{className:"w-4 h-4 mr-1"}),"Create Service"]})}),(0,t.jsx)(o.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(m(),{href:"/seller/profile",children:(0,t.jsx)(u.A,{className:"w-4 h-4"})})})]}):(0,t.jsx)(o.$,{variant:"outline",size:"sm",className:"hidden md:inline-flex",children:(0,t.jsx)(m(),{href:"/becomeSeller",children:"Become a Seller"})})]})]})})}},7924:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9324:()=>{},9433:(e,r,s)=>{"use strict";s.d(r,{cn:()=>i});var t=s(2596),a=s(9688);function i(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[479,159,441,684,358],()=>r(3424)),_N_E=e.O()}]);